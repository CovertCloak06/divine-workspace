(function(){if(window.__DivineDebugger){const e=document.getElementById("divine-debugger-overlay");e&&e.remove();const n=document.querySelector("style[data-divine-debugger]");return n&&n.remove(),void(window.__DivineDebugger=null)}window.__DivineDebugger={version:"2.1",selectedElement:null,selectedIndex:null,elements:[],logs:[],isPaused:!1,activeTab:"console",isMinimized:!1,isDragging:!1,isResizing:!1,dragOffset:{x:0,y:0},position:{x:10,y:null,width:400,height:280}};const DD=window.__DivineDebugger,css='\n        #divine-debugger-overlay {\n            position: fixed;\n            bottom: 10px;\n            left: 10px;\n            width: 400px;\n            height: 280px;\n            min-width: 300px;\n            min-height: 150px;\n            max-width: 95vw;\n            max-height: 80vh;\n            background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);\n            border: 2px solid var(--theme-primary, #0ff);\n            border-radius: 8px;\n            box-shadow: 0 4px 30px rgba(0, 255, 255, 0.3);\n            z-index: 2147483647;\n            font-family: \'Courier New\', monospace;\n            font-size: 13px;\n            color: #e0e0e0;\n            display: flex;\n            flex-direction: column;\n            overflow: hidden;\n        }\n        #divine-debugger-overlay.minimized {\n            height: 36px !important;\n            min-height: 36px !important;\n        }\n        #divine-debugger-overlay.minimized .dd-content,\n        #divine-debugger-overlay.minimized .dd-tabs { display: none; }\n        #divine-debugger-overlay * { box-sizing: border-box; margin: 0; padding: 0; }\n\n        /* Resize handle */\n        .dd-resize-handle {\n            position: absolute;\n            background: transparent;\n            z-index: 10;\n        }\n        .dd-resize-n { top: 0; left: 10px; right: 10px; height: 6px; cursor: n-resize; }\n        .dd-resize-e { top: 10px; right: 0; bottom: 10px; width: 6px; cursor: e-resize; }\n        .dd-resize-s { bottom: 0; left: 10px; right: 10px; height: 6px; cursor: s-resize; }\n        .dd-resize-w { top: 10px; left: 0; bottom: 10px; width: 6px; cursor: w-resize; }\n        .dd-resize-nw { top: 0; left: 0; width: 10px; height: 10px; cursor: nw-resize; }\n        .dd-resize-ne { top: 0; right: 0; width: 10px; height: 10px; cursor: ne-resize; }\n        .dd-resize-se { bottom: 0; right: 0; width: 10px; height: 10px; cursor: se-resize; }\n        .dd-resize-sw { bottom: 0; left: 0; width: 10px; height: 10px; cursor: sw-resize; }\n\n        /* Header - draggable */\n        .dd-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 6px 10px;\n            background: rgba(0, 255, 255, 0.08);\n            border-bottom: 1px solid rgba(0, 255, 255, 0.2);\n            cursor: move;\n            user-select: none;\n            flex-shrink: 0;\n        }\n        .dd-title {\n            color: var(--theme-primary, #0ff);\n            font-size: 12px;\n            font-weight: bold;\n            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);\n        }\n        .dd-header-actions { display: flex; gap: 4px; }\n        .dd-btn {\n            background: transparent;\n            border: 1px solid rgba(0, 255, 255, 0.3);\n            color: var(--theme-primary, #0ff);\n            padding: 3px 8px;\n            font-size: 10px;\n            cursor: pointer;\n            border-radius: 3px;\n            font-family: inherit;\n            transition: all 0.2s;\n        }\n        .dd-btn:hover {\n            background: rgba(0, 255, 255, 0.1);\n            border-color: var(--theme-primary, #0ff);\n        }\n        .dd-btn-icon {\n            padding: 3px 6px;\n            font-size: 12px;\n            line-height: 1;\n        }\n        .dd-btn-close { border-color: rgba(255,68,68,0.5); color: #f44; }\n        .dd-btn-close:hover { background: rgba(255,68,68,0.15); }\n        .dd-btn-min { border-color: rgba(255,200,0,0.5); color: #fc0; }\n        .dd-btn-min:hover { background: rgba(255,200,0,0.15); }\n        .dd-btn-primary {\n            background: var(--theme-primary, #0ff);\n            color: #000;\n            border-color: var(--theme-primary, #0ff);\n        }\n        .dd-btn-primary:hover { box-shadow: 0 0 15px rgba(0,255,255,0.5); }\n\n        /* Tabs */\n        .dd-tabs {\n            display: flex;\n            background: #111;\n            border-bottom: 1px solid #333;\n            overflow-x: auto;\n            flex-shrink: 0;\n        }\n        .dd-tabs::-webkit-scrollbar { height: 3px; }\n        .dd-tab {\n            background: transparent;\n            border: none;\n            color: #888;\n            padding: 6px 10px;\n            font-size: 11px;\n            cursor: pointer;\n            border-bottom: 2px solid transparent;\n            white-space: nowrap;\n            font-family: inherit;\n            transition: all 0.2s;\n        }\n        .dd-tab:hover { color: var(--theme-primary, #0ff); background: rgba(0,255,255,0.05); }\n        .dd-tab.active { color: var(--theme-primary, #0ff); border-bottom-color: var(--theme-primary, #0ff); }\n\n        /* Main Content */\n        .dd-content { flex: 1; overflow: hidden; display: flex; }\n        .dd-panel { display: none; flex: 1; overflow: hidden; flex-direction: column; }\n        .dd-panel.active { display: flex; }\n\n        /* Console Panel */\n        .dd-console-output {\n            flex: 1;\n            overflow-y: auto;\n            padding: 8px;\n            background: #0a0a0a;\n        }\n        .dd-log {\n            padding: 6px 8px;\n            border-bottom: 1px solid rgba(255,255,255,0.03);\n            display: flex;\n            gap: 8px;\n            align-items: flex-start;\n        }\n        .dd-log-icon { opacity: 0.7; }\n        .dd-log-msg { flex: 1; word-break: break-word; white-space: pre-wrap; }\n        .dd-log-time { color: #555; font-size: 10px; }\n        .dd-log.info .dd-log-msg { color: #6bc1ff; }\n        .dd-log.warn .dd-log-msg { color: #ffd93d; }\n        .dd-log.error .dd-log-msg { color: #ff6b6b; }\n        .dd-log.cmd .dd-log-msg { color: var(--theme-primary, #0ff); }\n        .dd-log.result .dd-log-msg { color: #a0e0a0; }\n\n        .dd-console-input {\n            display: flex;\n            gap: 8px;\n            padding: 8px;\n            background: rgba(0,0,0,0.3);\n            border-top: 1px solid rgba(0,255,255,0.1);\n        }\n        .dd-input {\n            flex: 1;\n            background: rgba(0,0,0,0.5);\n            border: 1px solid rgba(0,255,255,0.2);\n            color: #fff;\n            padding: 8px 10px;\n            font-family: inherit;\n            font-size: 13px;\n            border-radius: 4px;\n            outline: none;\n        }\n        .dd-input:focus { border-color: var(--theme-primary, #0ff); box-shadow: 0 0 8px rgba(0,255,255,0.2); }\n\n        /* Elements Panel */\n        .dd-elements-layout { display: flex; flex: 1; overflow: hidden; }\n        .dd-elements-list {\n            width: 50%;\n            overflow-y: auto;\n            border-right: 1px solid #333;\n            padding: 8px;\n        }\n        .dd-element-item {\n            padding: 6px 8px;\n            cursor: pointer;\n            border-radius: 3px;\n            font-size: 12px;\n            color: #888;\n            transition: all 0.15s;\n        }\n        .dd-element-item:hover { background: rgba(0,255,255,0.1); color: #fff; }\n        .dd-element-item.selected { background: rgba(0,255,255,0.2); color: var(--theme-primary, #0ff); }\n        .dd-element-tag { color: #ff79c6; }\n        .dd-element-id { color: #50fa7b; }\n        .dd-element-class { color: #f1fa8c; }\n\n        .dd-style-editor {\n            width: 50%;\n            overflow-y: auto;\n            padding: 12px;\n        }\n        .dd-section { margin-bottom: 16px; }\n        .dd-section-title {\n            color: var(--theme-primary, #0ff);\n            font-size: 11px;\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            margin-bottom: 10px;\n            padding-bottom: 6px;\n            border-bottom: 1px solid #333;\n        }\n        .dd-control {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            margin-bottom: 8px;\n        }\n        .dd-control label { width: 80px; font-size: 11px; color: #888; }\n        .dd-control input[type="range"] {\n            flex: 1;\n            height: 4px;\n            background: #333;\n            border-radius: 2px;\n            -webkit-appearance: none;\n        }\n        .dd-control input[type="range"]::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            width: 14px;\n            height: 14px;\n            background: var(--theme-primary, #0ff);\n            border-radius: 50%;\n            cursor: pointer;\n        }\n        .dd-control input[type="color"] {\n            width: 40px;\n            height: 24px;\n            border: 1px solid #333;\n            border-radius: 3px;\n            cursor: pointer;\n            background: #222;\n        }\n        .dd-control-value {\n            width: 50px;\n            font-size: 11px;\n            color: var(--theme-primary, #0ff);\n            text-align: right;\n        }\n\n        /* Analysis Panel */\n        .dd-analysis-content { flex: 1; overflow-y: auto; padding: 12px; }\n        .dd-analysis-buttons {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n            gap: 8px;\n            margin-bottom: 16px;\n        }\n        .dd-analysis-output {\n            background: #0a0a0a;\n            border: 1px solid #333;\n            border-radius: 4px;\n            padding: 12px;\n            min-height: 200px;\n            max-height: 400px;\n            overflow-y: auto;\n            font-size: 12px;\n            line-height: 1.6;\n        }\n        .dd-issue { margin-bottom: 12px; padding: 10px; background: #111; border-radius: 4px; border-left: 3px solid #f44; }\n        .dd-issue-title { color: #f44; font-weight: bold; margin-bottom: 6px; }\n        .dd-issue-location { color: #888; font-size: 11px; }\n        .dd-issue.warning { border-left-color: #ffd93d; }\n        .dd-issue.warning .dd-issue-title { color: #ffd93d; }\n        .dd-success { color: #50fa7b; text-align: center; padding: 20px; }\n\n        /* Security Panel */\n        .dd-security-content { flex: 1; overflow-y: auto; padding: 12px; }\n        .dd-security-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n            gap: 8px;\n            margin-bottom: 16px;\n        }\n        .dd-security-output {\n            background: #0a0a0a;\n            border: 1px solid #333;\n            border-radius: 4px;\n            padding: 12px;\n            min-height: 200px;\n        }\n        .dd-security-item { padding: 8px; background: #111; border-radius: 4px; margin-bottom: 8px; }\n        .dd-security-label { font-size: 11px; color: #888; margin-bottom: 4px; }\n        .dd-security-value { color: #e0e0e0; font-size: 12px; word-break: break-all; }\n        .dd-security-good { color: #50fa7b; }\n        .dd-security-bad { color: #ff6b6b; }\n        .dd-security-warn { color: #ffd93d; }\n\n        /* Quick Actions */\n        .dd-quick-actions {\n            display: flex;\n            gap: 6px;\n            padding: 8px;\n            background: #111;\n            border-top: 1px solid #333;\n        }\n\n        /* Scrollbar */\n        #divine-debugger-overlay ::-webkit-scrollbar { width: 6px; height: 6px; }\n        #divine-debugger-overlay ::-webkit-scrollbar-track { background: #111; }\n        #divine-debugger-overlay ::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }\n        #divine-debugger-overlay ::-webkit-scrollbar-thumb:hover { background: #555; }\n\n        /* Element highlight */\n        .dd-highlight-overlay {\n            position: fixed;\n            pointer-events: none;\n            background: rgba(0, 255, 255, 0.2);\n            border: 2px solid var(--theme-primary, #0ff);\n            z-index: 2147483646;\n            transition: all 0.1s;\n        }\n    ',html='\n        <div class="dd-resize-handle dd-resize-n" data-resize="n"></div>\n        <div class="dd-resize-handle dd-resize-e" data-resize="e"></div>\n        <div class="dd-resize-handle dd-resize-s" data-resize="s"></div>\n        <div class="dd-resize-handle dd-resize-w" data-resize="w"></div>\n        <div class="dd-resize-handle dd-resize-nw" data-resize="nw"></div>\n        <div class="dd-resize-handle dd-resize-ne" data-resize="ne"></div>\n        <div class="dd-resize-handle dd-resize-se" data-resize="se"></div>\n        <div class="dd-resize-handle dd-resize-sw" data-resize="sw"></div>\n        <div class="dd-header" id="dd-drag-handle">\n            <span class="dd-title">‚ö° Divine Debugger</span>\n            <div class="dd-header-actions">\n                <button class="dd-btn dd-btn-icon dd-btn-min" onclick="DD.toggleMinimize()" title="Minimize">‚îÄ</button>\n                <button class="dd-btn dd-btn-icon dd-btn-close" onclick="DD.close()" title="Close">‚úï</button>\n            </div>\n        </div>\n        <div class="dd-tabs">\n            <button class="dd-tab active" data-tab="console">Console</button>\n            <button class="dd-tab" data-tab="elements">Elements</button>\n            <button class="dd-tab" data-tab="analysis">Analysis</button>\n            <button class="dd-tab" data-tab="security">Security</button>\n            <button class="dd-tab" data-tab="network">Network</button>\n            <button class="dd-tab" data-tab="storage">Storage</button>\n        </div>\n        <div class="dd-content">\n            \x3c!-- Console Panel --\x3e\n            <div id="dd-panel-console" class="dd-panel active">\n                <div class="dd-console-output" id="dd-console-output"></div>\n                <div class="dd-console-input">\n                    <input type="text" class="dd-input" id="dd-console-input" placeholder="JS..." autocomplete="off">\n                    <button class="dd-btn dd-btn-primary" onclick="DD.execConsole()">‚ñ∂</button>\n                    <button class="dd-btn" onclick="DD.clearConsole()" title="Clear">üóë</button>\n                    <button class="dd-btn" onclick="DD.exportLogs()" title="Export">üíæ</button>\n                </div>\n            </div>\n\n            \x3c!-- Elements Panel --\x3e\n            <div id="dd-panel-elements" class="dd-panel">\n                <div class="dd-elements-layout">\n                    <div class="dd-elements-list" id="dd-elements-list"></div>\n                    <div class="dd-style-editor" id="dd-style-editor">\n                        <div class="dd-section">\n                            <div class="dd-section-title">Layout</div>\n                            <div class="dd-control">\n                                <label>Width</label>\n                                <input type="range" min="0" max="1000" value="0" data-style="width" data-unit="px">\n                                <span class="dd-control-value">auto</span>\n                            </div>\n                            <div class="dd-control">\n                                <label>Height</label>\n                                <input type="range" min="0" max="1000" value="0" data-style="height" data-unit="px">\n                                <span class="dd-control-value">auto</span>\n                            </div>\n                            <div class="dd-control">\n                                <label>Padding</label>\n                                <input type="range" min="0" max="100" value="0" data-style="padding" data-unit="px">\n                                <span class="dd-control-value">0px</span>\n                            </div>\n                            <div class="dd-control">\n                                <label>Margin</label>\n                                <input type="range" min="0" max="100" value="0" data-style="margin" data-unit="px">\n                                <span class="dd-control-value">0px</span>\n                            </div>\n                        </div>\n                        <div class="dd-section">\n                            <div class="dd-section-title">Appearance</div>\n                            <div class="dd-control">\n                                <label>Background</label>\n                                <input type="color" value="#111111" data-style="backgroundColor">\n                            </div>\n                            <div class="dd-control">\n                                <label>Text Color</label>\n                                <input type="color" value="#ffffff" data-style="color">\n                            </div>\n                            <div class="dd-control">\n                                <label>Opacity</label>\n                                <input type="range" min="0" max="100" value="100" data-style="opacity" data-unit="">\n                                <span class="dd-control-value">100%</span>\n                            </div>\n                            <div class="dd-control">\n                                <label>Border Radius</label>\n                                <input type="range" min="0" max="50" value="0" data-style="borderRadius" data-unit="px">\n                                <span class="dd-control-value">0px</span>\n                            </div>\n                        </div>\n                        <div class="dd-section">\n                            <div class="dd-section-title">Typography</div>\n                            <div class="dd-control">\n                                <label>Font Size</label>\n                                <input type="range" min="8" max="72" value="16" data-style="fontSize" data-unit="px">\n                                <span class="dd-control-value">16px</span>\n                            </div>\n                        </div>\n                        <div class="dd-quick-actions">\n                            <button class="dd-btn" onclick="DD.highlightElement()">Highlight</button>\n                            <button class="dd-btn" onclick="DD.hideElement()">Hide</button>\n                            <button class="dd-btn" onclick="DD.showElement()">Show</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Analysis Panel --\x3e\n            <div id="dd-panel-analysis" class="dd-panel">\n                <div class="dd-analysis-content">\n                    <div class="dd-analysis-buttons">\n                        <button class="dd-btn dd-btn-primary" onclick="DD.runFullAnalysis()">üöÄ Run Full Analysis</button>\n                        <button class="dd-btn" onclick="DD.checkDuplicates()">üìã Duplicates</button>\n                        <button class="dd-btn" onclick="DD.checkScopes()">üîÑ Scope Issues</button>\n                        <button class="dd-btn" onclick="DD.checkSelectors()">üéØ Missing Selectors</button>\n                    </div>\n                    <div class="dd-analysis-output" id="dd-analysis-output">\n                        <div style="text-align:center;padding:40px;color:#666;">\n                            <div style="font-size:48px;margin-bottom:10px;">üîç</div>\n                            Click "Run Full Analysis" to scan the page\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Security Panel --\x3e\n            <div id="dd-panel-security" class="dd-panel">\n                <div class="dd-security-content">\n                    <div class="dd-security-grid">\n                        <button class="dd-btn dd-btn-primary" onclick="DD.runSecurityScan()">üîç Full Scan</button>\n                        <button class="dd-btn" onclick="DD.checkCookies()">üç™ Cookies</button>\n                        <button class="dd-btn" onclick="DD.checkStorage()">üíæ Storage</button>\n                        <button class="dd-btn" onclick="DD.checkScripts()">üìú Scripts</button>\n                        <button class="dd-btn" onclick="DD.checkForms()">üìù Forms</button>\n                        <button class="dd-btn" onclick="DD.checkLinks()">üîó Links</button>\n                    </div>\n                    <div class="dd-security-output" id="dd-security-output">\n                        <div style="text-align:center;padding:40px;color:#666;">\n                            <div style="font-size:48px;margin-bottom:10px;">üîí</div>\n                            Click "Full Scan" to analyze page security\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Network Panel --\x3e\n            <div id="dd-panel-network" class="dd-panel">\n                <div class="dd-analysis-content">\n                    <div style="margin-bottom:12px;">\n                        <button class="dd-btn" onclick="DD.clearNetwork()">Clear</button>\n                        <span style="margin-left:12px;color:#888;">Network requests are captured automatically</span>\n                    </div>\n                    <div class="dd-analysis-output" id="dd-network-output">\n                        <div style="text-align:center;padding:40px;color:#666;">\n                            <div style="font-size:48px;margin-bottom:10px;">üåê</div>\n                            Network requests will appear here\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            \x3c!-- Storage Panel --\x3e\n            <div id="dd-panel-storage" class="dd-panel">\n                <div class="dd-security-content">\n                    <div class="dd-security-grid">\n                        <button class="dd-btn" onclick="DD.showLocalStorage()">üì¶ LocalStorage</button>\n                        <button class="dd-btn" onclick="DD.showSessionStorage()">üìã SessionStorage</button>\n                        <button class="dd-btn" onclick="DD.showCookiesStorage()">üç™ Cookies</button>\n                    </div>\n                    <div class="dd-security-output" id="dd-storage-output">\n                        <div style="text-align:center;padding:40px;color:#666;">\n                            <div style="font-size:48px;margin-bottom:10px;">üíæ</div>\n                            Select a storage type to view\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',style=document.createElement("style");style.setAttribute("data-divine-debugger","1"),style.textContent=css,document.head.appendChild(style);const overlay=document.createElement("div");overlay.id="divine-debugger-overlay",overlay.innerHTML=html,document.body.appendChild(overlay),DD.close=function(){overlay.remove(),style.remove();const e=document.querySelector(".dd-highlight-overlay");e&&e.remove(),window.__DivineDebugger=null},DD.toggleMinimize=function(){DD.isMinimized=!DD.isMinimized,overlay.classList.toggle("minimized",DD.isMinimized)};const dragHandle=document.getElementById("dd-drag-handle");let resizeDir=null,startRect=null,startMouse=null;dragHandle.addEventListener("mousedown",e=>{if(e.target.closest(".dd-header-actions"))return;DD.isDragging=!0;const n=overlay.getBoundingClientRect();DD.dragOffset={x:e.clientX-n.left,y:e.clientY-n.top},overlay.style.transition="none"}),overlay.querySelectorAll(".dd-resize-handle").forEach(e=>{e.addEventListener("mousedown",n=>{n.preventDefault(),DD.isResizing=!0,resizeDir=e.dataset.resize,startRect=overlay.getBoundingClientRect(),startMouse={x:n.clientX,y:n.clientY},overlay.style.transition="none"})}),document.addEventListener("mousemove",e=>{if(DD.isDragging){const n=e.clientX-DD.dragOffset.x,t=e.clientY-DD.dragOffset.y;overlay.style.left=Math.max(0,Math.min(window.innerWidth-100,n))+"px",overlay.style.top=Math.max(0,Math.min(window.innerHeight-50,t))+"px",overlay.style.bottom="auto",overlay.style.right="auto"}if(DD.isResizing&&startRect){const n=e.clientX-startMouse.x,t=e.clientY-startMouse.y,d=300,i=150;if(resizeDir.includes("e")&&(overlay.style.width=Math.max(d,startRect.width+n)+"px"),resizeDir.includes("w")){const e=Math.max(d,startRect.width-n);overlay.style.width=e+"px",overlay.style.left=startRect.left+(startRect.width-e)+"px"}if(resizeDir.includes("s")&&(overlay.style.height=Math.max(i,startRect.height+t)+"px"),resizeDir.includes("n")){const e=Math.max(i,startRect.height-t);overlay.style.height=e+"px",overlay.style.top=startRect.top+(startRect.height-e)+"px",overlay.style.bottom="auto"}}}),document.addEventListener("mouseup",()=>{DD.isDragging=!1,DD.isResizing=!1,resizeDir=null,startRect=null,overlay.style.transition=""}),dragHandle.addEventListener("touchstart",e=>{if(e.target.closest(".dd-header-actions"))return;DD.isDragging=!0;const n=e.touches[0],t=overlay.getBoundingClientRect();DD.dragOffset={x:n.clientX-t.left,y:n.clientY-t.top},overlay.style.transition="none"},{passive:!0}),document.addEventListener("touchmove",e=>{if(DD.isDragging){const n=e.touches[0],t=n.clientX-DD.dragOffset.x,d=n.clientY-DD.dragOffset.y;overlay.style.left=Math.max(0,Math.min(window.innerWidth-100,t))+"px",overlay.style.top=Math.max(0,Math.min(window.innerHeight-50,d))+"px",overlay.style.bottom="auto",overlay.style.right="auto"}},{passive:!0}),document.addEventListener("touchend",()=>{DD.isDragging=!1,overlay.style.transition=""}),DD.log=function(e,n="log"){if(DD.isPaused)return;const t=document.getElementById("dd-console-output");if(!t)return;const d=(new Date).toLocaleTimeString(),i=document.createElement("div");i.className=`dd-log ${n}`,i.innerHTML=`\n            <span class="dd-log-icon">${{log:"‚Ä∫",info:"‚Ñπ",warn:"‚ö†",error:"‚úó",cmd:"‚Ä∫",result:"‚Üê"}[n]||"‚Ä∫"}</span>\n            <span class="dd-log-msg">${DD.escapeHtml(String(e))}</span>\n            <span class="dd-log-time">${d}</span>\n        `,t.appendChild(i),t.scrollTop=t.scrollHeight,DD.logs.push({msg:e,type:n,time:d})},DD.escapeHtml=function(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML},DD.clearConsole=function(){const e=document.getElementById("dd-console-output");e&&(e.innerHTML=""),DD.logs=[]},DD.execConsole=function(){const input=document.getElementById("dd-console-input"),code=input.value.trim();if(code){DD.log(code,"cmd");try{const result=eval(code);if(void 0!==result){const e="object"==typeof result?JSON.stringify(result,null,2):String(result);DD.log(e,"result")}}catch(e){DD.log(e.message,"error")}input.value=""}},DD.exportLogs=function(){const e=DD.logs.map(e=>`[${e.time}] [${e.type.toUpperCase()}] ${e.msg}`).join("\n"),n=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(n),d=document.createElement("a");d.href=t,d.download="divine-debugger-logs.txt",d.click(),URL.revokeObjectURL(t)},DD.loadElements=function(){const e=document.getElementById("dd-elements-list");e&&(DD.elements=Array.from(document.querySelectorAll("body *")).filter(e=>"divine-debugger-overlay"!==e.id&&!e.closest("#divine-debugger-overlay")),e.innerHTML=DD.elements.slice(0,200).map((e,n)=>`<div class="dd-element-item" data-index="${n}">\n                <span class="dd-element-tag">${e.tagName.toLowerCase()}</span><span class="dd-element-id">${e.id?`#${e.id}`:""}</span><span class="dd-element-class">${e.className&&"string"==typeof e.className?`.${e.className.split(" ")[0]}`:""}</span>\n            </div>`).join(""),DD.elements.length>200&&(e.innerHTML+=`<div style="padding:10px;color:#888;text-align:center;">... and ${DD.elements.length-200} more elements</div>`))},DD.selectElement=function(e){DD.selectedIndex=e,DD.selectedElement=DD.elements[e],document.querySelectorAll(".dd-element-item").forEach(e=>e.classList.remove("selected"));const n=document.querySelector(`.dd-element-item[data-index="${e}"]`);n&&n.classList.add("selected"),DD.updateStyleControls(),DD.highlightElement()},DD.updateStyleControls=function(){if(!DD.selectedElement)return;const e=window.getComputedStyle(DD.selectedElement);document.querySelectorAll('.dd-style-editor input[type="range"]').forEach(n=>{const t=n.dataset.style,d=parseInt(e[t])||0;n.value="opacity"===t?100*d:d;const i=n.nextElementSibling;i&&(i.textContent="opacity"===t?`${Math.round(100*d)}%`:`${d}px`)}),document.querySelectorAll('.dd-style-editor input[type="color"]').forEach(n=>{const t=n.dataset.style,d=e[t];try{const e=d.match(/\d+/g);e&&e.length>=3&&(n.value="#"+e.slice(0,3).map(e=>parseInt(e).toString(16).padStart(2,"0")).join(""))}catch(e){}})},DD.applyStyle=function(e,n){DD.selectedElement&&(DD.selectedElement.style[e]=n)},DD.highlightElement=function(){let e=document.querySelector(".dd-highlight-overlay");if(e||(e=document.createElement("div"),e.className="dd-highlight-overlay",document.body.appendChild(e)),!DD.selectedElement)return void(e.style.display="none");const n=DD.selectedElement.getBoundingClientRect();e.style.display="block",e.style.top=n.top+"px",e.style.left=n.left+"px",e.style.width=n.width+"px",e.style.height=n.height+"px",setTimeout(()=>{e.style.display="none"},2e3)},DD.hideElement=function(){DD.selectedElement&&(DD.selectedElement.style.display="none")},DD.showElement=function(){DD.selectedElement&&(DD.selectedElement.style.display="")},DD.runFullAnalysis=function(){const e=document.getElementById("dd-analysis-output");e.innerHTML='<div style="text-align:center;padding:20px;color:var(--theme-primary,#0ff);">üîç Running analysis...</div>',setTimeout(()=>{let n="";const t=DD.findDuplicateFunctions();t.length>0&&(n+='<div class="dd-section-title">üìã Duplicate Functions</div>',t.forEach(e=>{n+=`<div class="dd-issue"><div class="dd-issue-title">${e.name}</div><div class="dd-issue-location">Found in: ${e.locations.join(", ")}</div></div>`}));const d=DD.findScopeMismatches();d.length>0&&(n+='<div class="dd-section-title">üîÑ Scope Mismatches</div>',d.forEach(e=>{n+=`<div class="dd-issue warning"><div class="dd-issue-title">${e.name}</div><div class="dd-issue-location">Used as both local and window.${e.name}</div></div>`}));const i=DD.findMissingSelectors();i.length>0&&(n+='<div class="dd-section-title">üéØ Missing Selectors</div>',i.forEach(e=>{n+=`<div class="dd-issue"><div class="dd-issue-title">${e.type}: ${e.name}</div><div class="dd-issue-location">Referenced but not found in DOM</div></div>`})),n||(n='<div class="dd-success">‚úÖ No issues found! Code looks clean.</div>'),e.innerHTML=n},100)},DD.findDuplicateFunctions=function(){const e=document.querySelectorAll("script:not([src])"),n={},t=[/function\s+(\w+)\s*\(/g,/const\s+(\w+)\s*=\s*(?:async\s*)?\(/g,/(\w+)\s*:\s*function\s*\(/g];e.forEach((e,d)=>{const i=e.textContent;t.forEach(e=>{let t;for(;null!==(t=e.exec(i));){const e=t[1];["init","render","show","hide","toggle","setup"].includes(e)||(n[e]||(n[e]=[]),n[e].push(`inline-script-${d+1}`))}})});Object.keys(window).filter(e=>"function"==typeof window[e]&&!e.startsWith("webkit"));return Object.entries(n).filter(([e,n])=>n.length>1).map(([e,n])=>({name:e,locations:n}))},DD.findScopeMismatches=function(){const e=document.querySelectorAll("script:not([src])"),n=new Set,t=new Set;e.forEach(e=>{const d=e.textContent;(d.match(/window\.(\w+)/g)||[]).forEach(e=>t.add(e.replace("window.","")));(d.match(/(?:let|const|var)\s+(\w+)\s*=/g)||[]).forEach(e=>{const t=e.match(/(?:let|const|var)\s+(\w+)/)[1];n.add(t)})});const d=[];return n.forEach(e=>{t.has(e)&&d.push({name:e})}),d},DD.findMissingSelectors=function(){const e=document.querySelectorAll("script:not([src])"),n=[];return e.forEach(e=>{const t=e.textContent;(t.match(/getElementById\(['"]([\w-]+)['"]\)/g)||[]).forEach(e=>{const t=e.match(/getElementById\(['"]([\w-]+)['"]\)/)[1];document.getElementById(t)||n.push({type:"ID",name:"#"+t})});(t.match(/querySelector\(['"]#([\w-]+)['"]\)/g)||[]).forEach(e=>{const t=e.match(/querySelector\(['"]#([\w-]+)['"]\)/)[1];document.getElementById(t)||n.push({type:"ID",name:"#"+t})})}),n.filter((e,n,t)=>t.findIndex(n=>n.name===e.name)===n)},DD.checkDuplicates=function(){const e=document.getElementById("dd-analysis-output"),n=DD.findDuplicateFunctions();0===n.length?e.innerHTML='<div class="dd-success">‚úÖ No duplicate functions found</div>':e.innerHTML=n.map(e=>`<div class="dd-issue"><div class="dd-issue-title">${e.name}</div><div class="dd-issue-location">Found in: ${e.locations.join(", ")}</div></div>`).join("")},DD.checkScopes=function(){const e=document.getElementById("dd-analysis-output"),n=DD.findScopeMismatches();0===n.length?e.innerHTML='<div class="dd-success">‚úÖ No scope mismatches found</div>':e.innerHTML=n.map(e=>`<div class="dd-issue warning"><div class="dd-issue-title">${e.name}</div><div class="dd-issue-location">Used as both local and window.${e.name}</div></div>`).join("")},DD.checkSelectors=function(){const e=document.getElementById("dd-analysis-output"),n=DD.findMissingSelectors();0===n.length?e.innerHTML='<div class="dd-success">‚úÖ All selectors found in DOM</div>':e.innerHTML=n.map(e=>`<div class="dd-issue"><div class="dd-issue-title">${e.type}: ${e.name}</div><div class="dd-issue-location">Referenced but not found</div></div>`).join("")},DD.runSecurityScan=function(){const e=document.getElementById("dd-security-output");let n="";const t="https:"===location.protocol;n+=`<div class="dd-security-item">\n            <div class="dd-security-label">Protocol</div>\n            <div class="dd-security-value ${t?"dd-security-good":"dd-security-bad"}">${location.protocol} ${t?"‚úì Secure":"‚ö† Not Secure"}</div>\n        </div>`;n+=`<div class="dd-security-item">\n            <div class="dd-security-label">Cookies</div>\n            <div class="dd-security-value">${document.cookie.split(";").filter(e=>e.trim()).length} cookies found</div>\n        </div>`;const d=Object.keys(localStorage),i=d.filter(e=>/token|key|secret|password|auth/i.test(e));n+=`<div class="dd-security-item">\n            <div class="dd-security-label">LocalStorage</div>\n            <div class="dd-security-value ${i.length?"dd-security-warn":""}">${d.length} items ${i.length?`(‚ö† ${i.length} sensitive)`:""}</div>\n        </div>`;const o=document.querySelectorAll("script[src]"),s=Array.from(o).filter(e=>{try{return new URL(e.src).hostname!==location.hostname}catch{return!1}});n+=`<div class="dd-security-item">\n            <div class="dd-security-label">External Scripts</div>\n            <div class="dd-security-value">${o.length} total, ${s.length} third-party</div>\n        </div>`;const l=document.querySelectorAll("form"),a=Array.from(l).filter(e=>!e.querySelector('input[name*="csrf"]'));n+=`<div class="dd-security-item">\n            <div class="dd-security-label">Forms</div>\n            <div class="dd-security-value ${a.length?"dd-security-warn":""}">${l.length} forms ${a.length?`(‚ö† ${a.length} without CSRF)`:""}</div>\n        </div>`;const r=document.querySelectorAll('a[target="_blank"]:not([rel*="noopener"])');n+=`<div class="dd-security-item">\n            <div class="dd-security-label">Unsafe Links</div>\n            <div class="dd-security-value ${r.length?"dd-security-warn":"dd-security-good"}">${r.length} links missing rel="noopener"</div>\n        </div>`,e.innerHTML=n},DD.checkCookies=function(){const e=document.getElementById("dd-security-output"),n=document.cookie.split(";").filter(e=>e.trim());0!==n.length?e.innerHTML=n.map(e=>{const[n,t]=e.split("=");return`<div class="dd-security-item">\n                <div class="dd-security-label">${n.trim()}</div>\n                <div class="dd-security-value">${t||"(empty)"}</div>\n            </div>`}).join(""):e.innerHTML='<div style="text-align:center;padding:20px;color:#888;">No cookies found</div>'},DD.checkStorage=function(){DD.showLocalStorage()},DD.checkScripts=function(){const e=document.getElementById("dd-security-output"),n=document.querySelectorAll("script[src]");e.innerHTML=Array.from(n).map(e=>`\n            <div class="dd-security-item">\n                <div class="dd-security-value" style="word-break:break-all;font-size:11px;">${e.src}</div>\n            </div>\n        `).join("")||'<div style="text-align:center;padding:20px;color:#888;">No external scripts</div>'},DD.checkForms=function(){const e=document.getElementById("dd-security-output"),n=document.querySelectorAll("form");e.innerHTML=Array.from(n).map((e,n)=>`\n            <div class="dd-security-item">\n                <div class="dd-security-label">Form ${n+1}</div>\n                <div class="dd-security-value">\n                    Action: ${e.action||"(none)"}<br>\n                    Method: ${e.method||"GET"}<br>\n                    Inputs: ${e.querySelectorAll("input").length}\n                </div>\n            </div>\n        `).join("")||'<div style="text-align:center;padding:20px;color:#888;">No forms found</div>'},DD.checkLinks=function(){const e=document.getElementById("dd-security-output"),n=document.querySelectorAll("a[href]"),t=Array.from(n).filter(e=>{try{return new URL(e.href).hostname!==location.hostname}catch{return!1}});e.innerHTML=`<div style="margin-bottom:12px;color:#888;">External links: ${t.length}</div>`+t.slice(0,20).map(e=>`\n                <div class="dd-security-item">\n                    <div class="dd-security-value" style="font-size:11px;word-break:break-all;">${e.href}</div>\n                </div>\n            `).join("")},DD.showLocalStorage=function(){const e=document.getElementById("dd-storage-output"),n=Object.keys(localStorage);0!==n.length?e.innerHTML=n.map(e=>`\n            <div class="dd-security-item">\n                <div class="dd-security-label">${e}</div>\n                <div class="dd-security-value" style="max-height:60px;overflow:hidden;">${localStorage.getItem(e).substring(0,200)}</div>\n            </div>\n        `).join(""):e.innerHTML='<div style="text-align:center;padding:20px;color:#888;">LocalStorage is empty</div>'},DD.showSessionStorage=function(){const e=document.getElementById("dd-storage-output"),n=Object.keys(sessionStorage);0!==n.length?e.innerHTML=n.map(e=>`\n            <div class="dd-security-item">\n                <div class="dd-security-label">${e}</div>\n                <div class="dd-security-value" style="max-height:60px;overflow:hidden;">${sessionStorage.getItem(e).substring(0,200)}</div>\n            </div>\n        `).join(""):e.innerHTML='<div style="text-align:center;padding:20px;color:#888;">SessionStorage is empty</div>'},DD.showCookiesStorage=function(){DD.checkCookies()},DD.networkRequests=[],DD.logNetwork=function(e,n,t,d){const i=document.getElementById("dd-network-output");if(!i)return;0===DD.networkRequests.length&&(i.innerHTML="");const o=t>=400?"dd-security-bad":t>=300?"dd-security-warn":"dd-security-good",s=document.createElement("div");s.className="dd-security-item",s.innerHTML=`\n            <div class="dd-security-label">${e} <span class="${o}">${t}</span> <span style="color:#888;">${d}ms</span></div>\n            <div class="dd-security-value" style="font-size:11px;word-break:break-all;">${n}</div>\n        `,i.insertBefore(s,i.firstChild),DD.networkRequests.push({method:e,url:n,status:t,duration:d})},DD.clearNetwork=function(){DD.networkRequests=[];const e=document.getElementById("dd-network-output");e&&(e.innerHTML='<div style="text-align:center;padding:40px;color:#666;"><div style="font-size:48px;margin-bottom:10px;">üåê</div>Network requests will appear here</div>')};const originalFetch=window.fetch;window.fetch=async function(...e){const n=performance.now(),t="string"==typeof e[0]?e[0]:e[0].url,d=e[1]?.method||"GET";try{const i=await originalFetch.apply(this,e);return DD.logNetwork(d,t,i.status,Math.round(performance.now()-n)),i}catch(e){throw DD.logNetwork(d,t,"ERR",Math.round(performance.now()-n)),e}};const originalXHR=window.XMLHttpRequest;window.XMLHttpRequest=function(){const e=new originalXHR;let n,t,d;const i=e.open,o=e.send;return e.open=function(e,d,...o){return n=e,t=d,i.apply(this,[e,d,...o])},e.send=function(...i){return d=performance.now(),e.addEventListener("loadend",()=>DD.logNetwork(n,t,e.status||"ERR",Math.round(performance.now()-d))),o.apply(this,i)},e},overlay.querySelectorAll(".dd-tab").forEach(e=>{e.addEventListener("click",()=>{overlay.querySelectorAll(".dd-tab").forEach(e=>e.classList.remove("active")),overlay.querySelectorAll(".dd-panel").forEach(e=>e.classList.remove("active")),e.classList.add("active"),document.getElementById("dd-panel-"+e.dataset.tab).classList.add("active"),"elements"===e.dataset.tab&&0===DD.elements.length&&DD.loadElements()})}),document.getElementById("dd-console-input").addEventListener("keydown",e=>{"Enter"===e.key&&DD.execConsole()}),document.getElementById("dd-elements-list").addEventListener("click",e=>{const n=e.target.closest(".dd-element-item");n&&DD.selectElement(parseInt(n.dataset.index))}),overlay.querySelectorAll('.dd-style-editor input[type="range"]').forEach(e=>{e.addEventListener("input",()=>{const n=e.dataset.style,t=e.dataset.unit;let d=e.value;"opacity"===n?(d/=100,e.nextElementSibling.textContent=`${Math.round(100*d)}%`):(d+=t,e.nextElementSibling.textContent=d),DD.applyStyle(n,d)})}),overlay.querySelectorAll('.dd-style-editor input[type="color"]').forEach(e=>{e.addEventListener("input",()=>{DD.applyStyle(e.dataset.style,e.value)})});const originalConsole={log:console.log,error:console.error,warn:console.warn,info:console.info};console.log=function(...e){originalConsole.log.apply(console,e),DD.log(e.join(" "),"log")},console.error=function(...e){originalConsole.error.apply(console,e),DD.log(e.join(" "),"error")},console.warn=function(...e){originalConsole.warn.apply(console,e),DD.log(e.join(" "),"warn")},console.info=function(...e){originalConsole.info.apply(console,e),DD.log(e.join(" "),"info")},window.addEventListener("error",e=>DD.log(`${e.message} at ${e.filename}:${e.lineno}`,"error")),DD.log("Divine Debugger v2.1 loaded. Drag header to move, edges to resize.","info")})();